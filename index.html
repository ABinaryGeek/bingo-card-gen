<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Bingo</title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css"
      integrity="sha256-oSrCnRYXvHG31SBifqP2PM1uje7SJUyX0nTwO2RJV54="
      crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-nr-min.css"
      integrity="sha256-ebOv3nz5uCcWnWJtNHFqHbPtTmMjDKIZrobk3g2pYig="
      crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js"
      integrity="sha256-nRoO8HoupfqozUr7YKBRgHXmdx40Hl/04OSBzv7e7L8="
      crossorigin="anonymous"></script>
    <script src="bingo.js"></script>
  </head>

  <body>
    <script>
      const hash = window.location.hash;
      let initial;
      if (hash) {
        initial = LZString.decompressFromEncodedURIComponent(hash.substring(1));
      } else {
        initial = null;
      }
      const app = Elm.Main.init({flags: {initial: initial}});
      app.ports.compress.subscribe(function(data) {
        app.ports.compressed.send(LZString.compressToEncodedURIComponent(data));
      });
      app.ports.decompress.subscribe(function(data) {
        app.ports.decompressed.send(LZString.decompressFromEncodedURIComponent(data));
      });
    </script>
  </body>
</html>
